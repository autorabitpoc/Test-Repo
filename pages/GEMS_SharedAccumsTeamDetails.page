<!--
/**************************************************************************************
Visulaforce Page Name : GEMS_SharedAccumsTeamDetails
Version               : 1.0
Function              : This Page is for assigning Shared Accums Team Member Details.
Modification Log      :
* Developer           Date                   Description
* ----------------------------------------------------------------------------                 
* Jenny Dalsania           06/1/2018             Original Version
*************************************************************************************/
-->
<apex:page controller="GEMS_SharedAccumsTeamController" docType="html-5.0" tabStyle="GEMS_Shared_Accums__c">
    <script type="application/javascript">
    jQuery('[id$=txtDateTime]').datetimepicker({
        format:'d/m/y h:m a'
    });
    </script>
    <apex:form id="theForm" >
        <apex:pageBlock title="Shared Accums Team Details">
            <apex:outputPanel id="errmsg">
                <apex:pageMessages />
            </apex:outputPanel>
            <apex:pageBlockButtons >
                <apex:commandButton value="Save" action="{!processSelected}" reRender="errmsg"/>
                <apex:commandButton value="Cancel" action="{!Cancelform}"/> 
            </apex:pageBlockButtons>
            <apex:pageBlockSection title="Status Update"
                                   collapsible="false">
                <apex:selectList label="Status" value="{!str}" size="0">
                    <apex:selectOptions value="{!status}"/>
                </apex:selectList>
                
                <apex:inputfield value="{!teamMember.Completion_Date__c}"/>
                <apex:inputfield value="{!teamMember.Shared_Accums_Team_Member__c}"/>  
                
            </apex:pageBlockSection>
            
            <apex:pageBlockSection title="Shared
                                          Accums Forms" columns="1">
                <apex:pageBlockTable value="{!sharedAccumsList}"
                                     var="form">
                    <apex:column >
                        <apex:facet name="header">
                            <apex:inputCheckbox onclick="checkAll(this,'checkdone')"/>
                        </apex:facet>
                        <apex:inputCheckbox value="{!form.selected}" id="checkdone" disabled="{!IF(form.accums.Status__c =="Completed", true, false)}" />
                    </apex:column>
                    <apex:column value="{!form.accums.Name}"/>
                    <apex:column value="{!form.accums.Applicable_BAs__c}"/>
                    <apex:column value="{!form.accums.Shared_Accums_Effective_Date__c}"/>
                    <apex:column value="{!form.accums.Accum_Period__c}"/>
                    <apex:column value="{!form.accums.Deductible__c}"/>
                    <apex:column value="{!form.accums.Out_of_Pocket__c}"/>
                    <apex:column value="{!form.accums.CreatedDate}"/>
                    <apex:column value="{!form.accums.Completion_Date__c}"/>
                    <apex:column value="{!form.accums.Status__c}"/>
                    <apex:column value="{!form.accums.Shared_Accums_Team_Member__c}"/>
                </apex:pageBlockTable>
            </apex:pageBlockSection>
        </apex:pageBlock>
    </apex:form>
    <script>
    function checkAll(cb,receivedInputID)
    {
        var inputElem = document.getElementsByTagName("input");
        for(var i=0; i<inputElem.length; i++)
        {
            if(inputElem[i].id.indexOf(receivedInputID)!=-1)
                if(inputElem[i].disabled == false)
                    inputElem[i].checked = cb.checked;
        }
    }
    </script>
</apex:page>